http://www.ibm.com/developerworks/cn/linux/1307_liuming_linuxtime1/

```c
#include <time.h>
#include <stdio.h>
#include <stdlib.h>

void time_ctime(){
  time_t t;
  time(&t);  // 1970/1/1 00:00:00 到现在的秒数

  printf("Time is: %d\n", t);
  printf("Ctime is: %s\n", ctime(&t));
}

void time_localtime() {
  time_t t;
  struct tm * time_struct;
  time(&t);

  char buf [100];
  time_struct = localtime(&t);
  strftime(buf,100,"It is now: %I:%M %p\n",time_struct);
  puts(buf);
  
}

void get_time_of_day() {
  // 高精度
  struct timeval tv; //stdlib.h
  gettimeofday(&tv,NULL); // 1970/1/1 00:00:00 到现在的微秒数
  printf("High Time: %d.%d\n",tv.tv_sec,tv.tv_usec); 

}

#define rdtsc(low,high) __asm__ \
 __volatile__("rdtsc" : "=a" (low), "=d" (high))

void no_system_call() {
  // 高精度,避免gettimeofday系统调用
  // 读取 x86 TSC 设备
  unsigned low, high;
  rdtsc(low,high)
  unsigned long long cycles; // cpu 周期
  cycles = high;
  cycles = (cycles << 32) | low; //将 low 和 high 合成一个 64 位值
  
  float hz = 2127.985 // cup hz, get it in /proc/cpuinfo
}
```
